"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[407],{407:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n=r(4942),a=r(1413),o=r(9439),i=r(2791),s=r(5892),c=r(8571),l=r(3433),u=r(4925),f=r(5671),d=r(3144),m=r(136),p=r(7277),g=r(7462),h=r(7760);var x,y,b=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},v=["children","range","limit"],j=["children","positions","colors","sizes","stride"],w=new h.Matrix4,C=new h.Ray,Z=new h.Sphere,z=new h.Vector3,E=(h.Group,i.createContext(null)),N=new h.Matrix4,S=new h.Vector3,A=i.forwardRef((function(e,t){var r=e.children,n=e.range,a=e.limit,s=void 0===a?1e3:a,f=(0,u.Z)(e,v),d=i.useRef(null),m=i.useState([]),p=(0,o.Z)(m,2),j=p[0],w=p[1],C=i.useState((function(){return[new Float32Array(3*s),Float32Array.from({length:3*s},(function(){return 1})),Float32Array.from({length:s},(function(){return 1}))]})),Z=(0,o.Z)(C,1),z=(0,o.Z)(Z[0],3),A=z[0],D=z[1],R=z[2];i.useEffect((function(){d.current.geometry.attributes.position.needsUpdate=!0})),(0,c.A)((function(){for(d.current.updateMatrix(),d.current.updateMatrixWorld(),N.copy(d.current.matrixWorld).invert(),d.current.geometry.drawRange.count=Math.min(s,void 0!==n?n:s,j.length),x=0;x<j.length;x++)(y=j[x].current).getWorldPosition(S).applyMatrix4(N),S.toArray(A,3*x),d.current.geometry.attributes.position.needsUpdate=!0,y.matrixWorldNeedsUpdate=!0,y.color.toArray(D,3*x),d.current.geometry.attributes.color.needsUpdate=!0,R.set([y.size],x),d.current.geometry.attributes.size.needsUpdate=!0}));var U=i.useMemo((function(){return{getParent:function(){return d},subscribe:function(e){return w((function(t){return[].concat((0,l.Z)(t),[e])})),function(){return w((function(t){return t.filter((function(t){return t.current!==e.current}))}))}}}}),[]);return i.createElement("points",(0,g.Z)({userData:{instances:j},matrixAutoUpdate:!1,ref:b([t,d]),raycast:function(){return null}},f),i.createElement("bufferGeometry",null,i.createElement("bufferAttribute",{attach:"attributes-position",count:A.length/3,array:A,itemSize:3,usage:h.DynamicDrawUsage}),i.createElement("bufferAttribute",{attach:"attributes-color",count:D.length/3,array:D,itemSize:3,usage:h.DynamicDrawUsage}),i.createElement("bufferAttribute",{attach:"attributes-size",count:R.length,array:R,itemSize:1,usage:h.DynamicDrawUsage})),i.createElement(E.Provider,{value:U},r))})),D=i.forwardRef((function(e,t){var r=e.children,n=e.positions,a=e.colors,o=e.sizes,s=e.stride,l=void 0===s?3:s,f=(0,u.Z)(e,j),d=i.useRef(null);return(0,c.A)((function(){var e=d.current.geometry.attributes;e.position.needsUpdate=!0,a&&(e.color.needsUpdate=!0),o&&(e.size.needsUpdate=!0)})),i.createElement("points",(0,g.Z)({ref:b([t,d])},f),i.createElement("bufferGeometry",null,i.createElement("bufferAttribute",{attach:"attributes-position",count:n.length/l,array:n,itemSize:l,usage:h.DynamicDrawUsage}),a&&i.createElement("bufferAttribute",{attach:"attributes-color",count:a.length/l,array:a,itemSize:3,usage:h.DynamicDrawUsage}),o&&i.createElement("bufferAttribute",{attach:"attributes-size",count:o.length/l,array:o,itemSize:1,usage:h.DynamicDrawUsage})),r)})),R=i.forwardRef((function(e,t){return e.positions instanceof Float32Array?i.createElement(D,(0,g.Z)({},e,{ref:t})):i.createElement(A,(0,g.Z)({},e,{ref:t}))})),U=function(e){(0,m.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,f.Z)(this,r),(n=t.call(this,e)).onBeforeCompile=function(e,t){var r=t.capabilities.isWebGL2;e.fragmentShader=e.fragmentShader.replace("#include <output_fragment>","\n        ".concat(r?"#include <output_fragment>":"#extension GL_OES_standard_derivatives : enable\n#include <output_fragment>","\n      vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n      float r = dot(cxy, cxy);\n      float delta = fwidth(r);     \n      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );\n      #include <tonemapping_fragment>\n      #include <encodings_fragment>\n      "))},n}return(0,d.Z)(r)}(h.PointsMaterial),M=i.forwardRef((function(e,t){var r=i.useState((function(){return new U(null)})),n=(0,o.Z)(r,1)[0];return i.createElement("primitive",(0,g.Z)({},e,{object:n,ref:t,attach:"material"}))})),_=r(5815),k=(r(370),r(4834),r(637),r(184));var F=function(e){var t=e.text,r=e.icone;return(0,k.jsxs)("div",{style:{color:"white",display:"flex",alignItems:"center",marginBottom:"0.3rem"},children:[(0,k.jsx)("p",{className:"textContact",style:{marginRight:"0.4rem",fontWeight:"bold"},children:t}),(0,k.jsx)("img",{style:{width:"1.5rem",position:"relative",zIndex:5},src:"/portfolio/images/"+r})]})},Y=r(3441);function P(){var e=(0,i.useRef)(),t=(0,i.useRef)(),r=(0,i.useRef)(),c=(0,i.useRef)(),l=(0,i.useRef)(),u=(0,Y.YD)({triggerOnce:!1,threshold:.5}),f=(0,o.Z)(u,3),d=f[0],m=f[1],p=f[2],g=(0,i.useState)({nom:"",prenom:"",objet:"",message:""}),h=(0,o.Z)(g,2),x=h[0],y=h[1];(0,i.useEffect)((function(){m&&p?(p.target.animate([{opacity:0},{opacity:1}],{duration:800,fill:"forwards"}),l.current.animate([{opacity:0},{opacity:1}],{duration:1500,fill:"forwards"})):p&&(p.target.animate([{opacity:1},{opacity:0}],{duration:800,fill:"forwards"}),l.current.animate([{opacity:1},{opacity:0}],{duration:500,fill:"forwards"}))}),[m]);var b=function(e){var t=e.target.id;y((function(r){return(0,a.Z)((0,a.Z)({},r),{},(0,n.Z)({},t,e.target.value))}))};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{id:"sectionContact",children:[(0,k.jsx)("div",{ref:c,className:"blocSuccess",children:(0,k.jsx)("p",{children:"Votre message a bien \xe9tait envoyer"})}),(0,k.jsx)(s.Xz,{id:"canvasStar",ref:d,style:{height:"100%",position:"absolute",top:0},camera:{position:[0,0,1]},children:m&&(0,k.jsx)(W,{})}),(0,k.jsx)("div",{className:"blocGaucheContact",children:(0,k.jsxs)("form",{ref:e,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("input",{id:"nom",onChange:b,className:"inputContact",value:x.nom,type:"text",placeholder:"Nom"}),(0,k.jsx)("input",{id:"prenom",onChange:b,className:"inputContact",value:x.prenom,type:"text",placeholder:"Prenom"})]}),(0,k.jsx)("input",{id:"objet",onChange:b,type:"text",className:"inputContact inputContactObjet",value:x.objet,placeholder:"Objet"}),(0,k.jsx)("textarea",{id:"message",onChange:b,value:x.message,placeholder:"Votre message ..."}),(0,k.jsxs)("button",{className:"btnForm",type:"submit",onClick:function(e){e.preventDefault(),Object.entries(x).forEach((function(e){var t=(0,o.Z)(e,2),r=t[0],n=t[1],a=document.querySelector("#"+r);""==n?a.style.border="1px solid #dd2d4a":"message"==r?a.style.border="1px solid white":(a.style.border="none",a.style.borderBottom="1px solid white")})),Object.values(x).every((function(e){return""!==e}))&&(r.current.style.display="flex",t.current.style.display="none",fetch("http://www.guillaume.com/portfolio/public/mail.php?nom="+x.nom+"&prenom="+x.prenom+"&objet="+x.objet+"&message="+x.message).then((function(e){e.text().then((function(e){"success"==e?(r.current.style.display="none",t.current.style.display="block",c.current.textContent="Votre message \xe0 bien \xe9tait envoyer",c.current.animate([{transform:"translateY(0px)",offset:.2},{transform:"translateY(-40px)",offset:.3},{transform:"translateY(-40px)",offset:.8},{transform:"translateY(100px)",offset:1}],{duration:5e3})):(r.current.style.display="none",t.current.style.display="block",c.current.textContent="Une erreur est survenue",c.current.animate([{transform:"translateY(0px)",offset:.2},{transform:"translateY(-40px)",offset:.3},{transform:"translateY(-40px)",offset:.8},{transform:"translateY(100px)",offset:1}],{duration:5e3}))}))})))},children:[(0,k.jsx)("span",{ref:t,children:"Envoyer"}),(0,k.jsxs)("div",{ref:r,className:"blocRond",style:{gap:"2px"},children:[(0,k.jsx)("div",{className:"rond"}),(0,k.jsx)("div",{className:"rond"}),(0,k.jsx)("div",{className:"rond"})]})]})]})}),(0,k.jsxs)("div",{className:"blocInfoMob",children:[(0,k.jsx)(F,{text:"guillaume.cazes21@gmail.com",icone:"enveloppe.png"}),(0,k.jsx)(F,{text:"06 89 76 62 44",icone:"phone.png"})]}),(0,k.jsx)("div",{className:"blocDroitContact",children:(0,k.jsxs)("div",{style:{position:"relative"},children:[(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",color:"white",fontSize:"5vw"},children:[(0,k.jsx)("p",{className:"contactMe",style:{margin:0},children:"Contactez"}),(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:"0.6rem"},children:[(0,k.jsx)("div",{style:{backgroundColor:"white",width:"16.5vw",height:"0.3rem",marginRight:"0.7rem",marginTop:"0.5vw"}}),(0,k.jsx)("span",{className:"contactMe",children:"Moi"})]})]}),(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"end",marginTop:"1rem"},children:[(0,k.jsx)(F,{text:"guillaume.cazes21@gmail.com",icone:"enveloppe.webp"}),(0,k.jsx)(F,{text:"06 89 76 62 44",icone:"phone.webp"})]})]})}),(0,k.jsx)("img",{ref:l,src:"/portfolio/images/moonMin.webp",className:"moonMan"})]})})}function W(e){var t=(0,i.useRef)(),r=(0,i.useState)((function(){return _.a(new Float32Array(500),{radius:1.5})})),n=(0,o.Z)(r,1)[0];return(0,c.A)((function(e,r){t.current.rotation.x-=r/10,t.current.rotation.y-=r/15})),(0,k.jsx)("group",{className:"stars",rotation:[0,0,Math.PI/4],children:(0,k.jsx)(R,(0,a.Z)((0,a.Z)({ref:t,positions:n,stride:3,frustumCulled:!1},e),{},{children:(0,k.jsx)(M,{transparent:!0,color:"white",size:.003,sizeAttenuation:!0,depthWrite:!1})}))})}}}]);
//# sourceMappingURL=407.0a10f301.chunk.js.map